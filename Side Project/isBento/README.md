便當店分類 分析

[slides](https://www.slideshare.net/ChihyangLi/is-bento)

### 目的
分析店家是否為便當(bento)

### TL;DR
以PLA 對菜單做supervised **是否便當店**分析

### 分析
* 從店名分類：

店名 | 是否便當店
--- | ---
小南便當店 | O
丁丁排骨 | O
鼎泰豐 | ?
小波蘿 | ?
50嵐 | ?
可以從上表看到對於那些沒有將可分類的資訊放入店名的店家，分類是很困難的

* 從菜單分類：

小菠蘿(早餐店) | 丁丁排骨 (便當店)
--- | ---
牛肉漢堡 |  排骨飯
鐵板麵 | 雞腿飯
肉鬆蛋餅 | 炸魚飯
... |  ...
可以從上表猜想，店名或許可以從店家菜單分析

* 菜單分析：

從菜單分析首先遇到中文文法斷詞的問題，假設分析的菜名為**番茄義大利麵(Tomato Spaghetti)**，從英文可以很容易拆解出**tomato** + **spaghetti**，甚至是從英文分詞的字根字首可以較容易分析出內容。對於中文的**番茄義大利麵**到底是要分成 **番** **茄義大利** **麵** or **番茄** **義大利麵** or **番茄 義大 利麵** ？

### 實作步驟

這裡的構想是運用中文斷詞分析套件 [Jieba 結巴中文分詞](https://github.com/fxsjy/jieba) ，去將菜單名稱做適當的斷詞。

* 菜單特徵：

運用結巴將菜單分詞歸類

菜名 | 斷詞
--- | ---
羅勒番茄義大利麵 | [羅勒, 番茄, 義大利麵]
肉鬆蛋餅 | [肉鬆, 蛋餅]
... | ...

* 菜單分詞特徵：這裡的問題是要挑選哪些分詞作為feature?
我分析13902個菜單品項後共出現2168個分詞，我挑選出現機率最高的14個分詞是 **[麵 雞 飯 肉 湯 魚 蛋 豬 茶 牛肉 堡 餅 排 蝦]** (剔除 大, 中, 小, (, ),c.c等無關分詞feature)

接下來歸納每間店家的店家的菜單並計算以上14個分詞的出現機率

ex:

分詞 | 機率 [0, 1]
--- | ---
麵 | 0.1 
雞 | 0.2 
飯 | 0.5
肉 | 0
湯 | 0.1
魚 | 0
蛋 | 0
豬 | 0
茶 | 0
牛肉 | 0.2
堡 | 0.1
餅 | 0
排 | 0
蝦 | 0

* Label: 這裡人工標記以上348家店是否為便當店
* 這裡使用最簡單的Learning Algorithm: PLA做traning
 * training data set: 248
 * test data set: 100

### 結果
error rate: 8%

output weight

weight | value
--- | ---
麵 | -0.16
雞 | -0.11
飯 | **0.78**
肉 | -0.02
湯 | -0.003
魚 | **0.05**
蛋 | -0.32
豬 | **0.41**
茶 | -0.146
牛肉 | **0.18**
堡 | -0.39
餅 | -0.8
排 | -0.24
蝦 | -0.06

### 分析
從output weight看到排名最高的四個是 **飯 豬 牛肉 魚** , 最低的是 **餅 麵 蛋 堡**，跟常識(label者)想像中分類的便當店還算吻合

* 可能的問題
 * 斷詞精確度： 拿鐵 -> 拿＋鐵, 抹茶 -> 抹＋茶 ， 這些是

### 未來工作
1. 可以做multi-class classification
2. 改善斷詞字典